{% extends "base.html" %}
{% block title %}{{ 'Edit' if course else 'Create' }} Course - EduPlatform{% endblock %}
{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow">
                <div class="card-header"><h5 class="mb-0">{{ 'Edit Course' if course else 'Create Course' }}</h5></div>
                <div class="card-body">
                    <form method="POST">
                        <div class="mb-3"><label class="form-label">Title *</label><input type="text" class="form-control" name="title" value="{{ course['title'] if course else '' }}" required></div>
                        <div class="mb-3"><label class="form-label">Subtitle</label><input type="text" class="form-control" name="subtitle" value="{{ course['subtitle'] if course else '' }}"></div>
                        <div class="mb-3"><label class="form-label">Description</label><textarea class="form-control" name="description" rows="4">{{ course['description'] if course else '' }}</textarea></div>
                        <div class="row">
                            <div class="col-md-6 mb-3"><label class="form-label">Category</label><select class="form-select" name="category_id"><option value="">Select</option>{% for cat in categories %}<option value="{{ cat['category_id'] }}" {% if course and course['category_id']==cat['category_id'] %}selected{% endif %}>{{ cat['category_name'] }}</option>{% endfor %}</select></div>
                            <div class="col-md-6 mb-3"><label class="form-label">Level</label><select class="form-select" name="level"><option value="beginner" {% if course and course['level']=='beginner' %}selected{% endif %}>Beginner</option><option value="intermediate" {% if course and course['level']=='intermediate' %}selected{% endif %}>Intermediate</option><option value="advanced" {% if course and course['level']=='advanced' %}selected{% endif %}>Advanced</option></select></div>
                        </div>
                        <div class="row">
                            <div class="col-md-4 mb-3"><label class="form-label">Price ($)</label><input type="number" class="form-control" name="price" step="0.01" value="{{ course['price'] if course else '0' }}"></div>
                            <div class="col-md-4 mb-3"><label class="form-label">Original Price</label><input type="number" class="form-control" name="original_price" step="0.01" value="{{ course['original_price'] if course else '' }}"></div>
                            {% if course %}<div class="col-md-4 mb-3"><label class="form-label">Status</label><select class="form-select" name="status"><option value="draft" {% if course['status']=='draft' %}selected{% endif %}>Draft</option><option value="published" {% if course['status']=='published' %}selected{% endif %}>Published</option><option value="archived" {% if course['status']=='archived' %}selected{% endif %}>Archived</option></select></div>{% endif %}
                        </div>
                        <button type="submit" class="btn btn-primary">Save</button>
                        <a href="{{ url_for('admin_courses') }}" class="btn btn-secondary">Cancel</a>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
